<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Controller</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Leaflet.js CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <!-- Add Leaflet.js JavaScript -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Car Controller</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    </head>
    <div class="title-container">
        <h1 class="controller-title">DRONE HOME</h1>
    </div>
    
    <!-- Flex Container for Map and Video -->
    <div class="flex-container">
        <!-- Map Section -->
        <div class="map-container">
            <h2>Map of Current Location and Tracked Objects</h2>
            <div id="map"></div>
        </div>
    
        <!-- Video Section -->
        <div class="video-container">
            <h2>Live Webcam Feed</h2>
            <img src="{{ url_for('video_feed') }}" alt="AI Video Feed" id="video-feed">
        </div>

        <!-- Manual Controller Section -->
        <div class="controller-container">
            <h2 class="controller-title">MANUAL CONTROLLER</h2>
            <div class="controls">
                <button id="left-btn" class="control-button">Left</button>
                <button id="right-btn" class="control-button">Right</button>
            </div>
            <div class="lever-container">
                <div id="lever" class="lever"></div>
            </div>
            <p id="lever-status">Drag the lever to control speed</p>
        </div>
    </div>

    <!-- Output Window for Commands -->
    <div class="output-window">
        <h3>Command Log</h3>
        <div id="output-log"></div>
    </div>

    <!-- Received Data Window -->
    <div class="received-data-window">
        <h3>Received Node Data</h3>
        <p><strong>Computer GPS:</strong> <span id="computer-gps">Waiting...</span></p>
        <p><strong>Drone GPS:</strong> <span id="drone-gps">Waiting...</span></p>
        <p><strong>R/C Car GPS:</strong> <span id="car-gps">Waiting...</span></p>
        <p><strong>Battery Charge:</strong> <span id="battery-level">Waiting...</span>%</p>
    </div>

    <!-- Distance Calculation Window -->
    <div class="distance-window">
        <h3>Distance Measurements</h3>
        <p><strong>Computer → R/C Car:</strong> <span id="distance-computer-car">Waiting...</span> meters</p>
        <p><strong>R/C Car → Drone:</strong> <span id="distance-car-drone">Waiting...</span> meters</p>
        <p><strong>Drone → Computer:</strong> <span id="distance-drone-computer">Waiting...</span> meters</p>
    </div>

    <!-- Link JavaScript Files -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script src="{{ url_for('static', filename='js/map.js') }}"></script>
        </body>
</html>

<html>
    <link rel="stylesheet" href='/static/styles.css' />
<body>
 <img src="{{ url_for('static', filename='images/title.png') }}" alt="Site Title" class="top-image">
 <!-- <video id="webcam" autoplay muted playsinline></video> -->
</body>
</html>
